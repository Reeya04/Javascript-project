<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Game</title>
</head>
<style>
    .para-info{
        display: none;
    }
</style>
<body>
    <h1>Rock Paper Scissors game</h1>
    <div class="view-info">
        <p class="para-info js-para-info">
            Welcome to Rock Paper Scissors Game
            This game is played between two people, <br>
            The computer User and AI. <br>
            Rock beats scissors, scissors betas paper <br>
            paper beats rock. <br>
            Click 'r' to make a rock move <br>
            Click 'p' to make a paper move <br>
            Click 's' to make a scissors move <br>
            To reset score, you can make use of the shortcut <br>
            by clicking 'c'.
        </p>
        <button class="js-control-view-btn">view game info</button>
    </div>

    <button onclick="playGame('rock')">Rock</button>
    <button onclick="playGame('paper')">Paper</button>
    <button onclick="playGame('scissors')">Scissors</button>
    <button onclick="resetGameScore()">Reset score</button>
    <div class="result js-result"></div>

    <script>
        let score = JSON.parse(localStorage.getItem('score'))
        || {
            Wins: 0,
            Lose: 0,
            Tie: 0,
        }


        let computerMove = '';
       const resultDiv = document.querySelector('.js-result')

        const playGame = (userMove) => {
            pickComputerMove();
        if (userMove === 'rock') {
                let result = '';
        if(computerMove === 'rock'){
            result = 'Tie';
            score. Tie +=1;
            resultDiv.innerHTML = `You picked rock and computer picked ${computerMove} \n Result: ${result}
            \n Score: Wins: ${score.Wins}, Loss: ${score.Lose}, Ties: ${score.Tie}
            `;
        }
        else if(computerMove === 'paper'){
            result = 'You Lose';
            score. Lose +=1;
            resultDiv.innerHTML = `You picked rock and computer picked ${computerMove} \n Result: ${result}
            \n Score: Wins: ${score.Wins}, Loss: ${score.Lose}, Ties: ${score.Tie}
            `;
        }
        else if(computerMove === 'scissors'){
            result = 'You Win';
            score. Wins +=1;
            resultDiv.innerHTML = `You picked rock and computer picked ${computerMove} \n Result: ${result}
            \n Score: Wins: ${score.Wins}, Loss: ${score.Lose}, Ties: ${score.Tie}
            `;
        }
            }
            else if(userMove === 'paper') {
                result = '';
        if(computerMove === 'rock'){
            result = 'You Win';
            score. Wins +=1;
            resultDiv.innerHTML = `You picked paper and computer picked ${computerMove} \n Result: ${result}
            \n Score: Wins: ${score.Wins}, Loss: ${score.Lose}, Ties: ${score.Tie}
            `
        }
        else if(computerMove === 'paper'){
            result = 'Tie';
            score. Tie +=1;
            resultDiv.innerHTML = `You picked paper and computer picked ${computerMove} \n Result: ${result}
            \n Score: Wins: ${score.Wins}, Loss: ${score.Lose}, Ties: ${score.Tie}
            `;
        }
        else if(computerMove === 'scissors'){
            result = 'You Lose';
            score. Lose +=1;
            resultDiv.innerHTML = `You picked paper and computer picked ${computerMove} \n Result: ${result}
            \n Score: Wins: ${score.Wins}, Loss: ${score.Lose}, Ties: ${score.Tie}
            `;
        }
            }
            else if(userMove === 'scissors') {
                result = '';
        if(computerMove === 'rock'){
            result = 'You Lose';
            score. Lose +=1;
            resultDiv.innerHTML = `You picked scissors and computer picked ${computerMove} \n Result: ${result}
            \n Score: Wins: ${score.Wins}, Loss: ${score.Lose}, Ties: ${score.Tie}
            `
        }
        else if(computerMove === 'paper'){
            result = 'You Win';
            score. Wins +=1;
            resultDiv.innerHTML = `You picked scissors and computer picked ${computerMove} \n Result: ${result}
            \n Score: Wins: ${score.Wins}, Loss: ${score.Lose}, Ties: ${score.Tie}
            `;
        }
        else if(computerMove === 'scissors'){
            result = 'Tie';
            score. Tie +=1;
            resultDiv.innerHTML = `You picked scissors and computer picked ${computerMove} \n Result: ${result}
            \n Score: Wins: ${score.Wins}, Loss: ${score.Lose}, Ties: ${score.Tie}
            `;
        }
            //Saving our score to local storage.
            localStorage.setItem('score', JSON.stringify(score));
            }
        }
        
        //The Function
        const pickComputerMove = () => {
            let randomNumber = Math.random();
        if (randomNumber >= 0 && randomNumber < 1/3){
            computerMove = 'rock';
            console.log(computerMove)
        }
        else if(randomNumber >= 1/3 && randomNumber < 2/3){
            computerMove = 'paper';
            console.log(computerMove)
        }
        else if(randomNumber >=2/3 && randomNumber < 1){
            computerMove = 'scissors';
            console.log(computerMove)
        }
        return computerMove;
        }

        //Handling the score functionality
        // let score = {
        //     Wins: 0,
        //     Lose: 0,
        //     Tie: 0,
        // }

        const resetGameScore = () => {
            score.Wins = 0
            score.Lose = 0
            score.Tie = 0
            alert("The game score has been reset, click ok to confirm")
        }

        document.body.addEventListener('keypress', (event) => {
            if(event.key === 'r') {
                playGame('rock');
            }
            else if(event.key === 'p') {
                playGame('paper');
            }
            else if(event.key === 's') {
                playGame('scissors')
            }
            else if(event.key === 'c') {
                resetGameScore();
            }
        })

       let controlViewBtn = document.querySelector('.js-control-view-btn');
       let paraInfo = document.querySelector('.para-info');

        controlViewBtn.addEventListener('click', () => {
        if(controlViewBtn.innerHTML === 'view game info') {
            paraInfo.style.display = 'block';
            controlViewBtn.innerHTML = 'hide game info';
        }
        else if(controlViewBtn.innerHTML === 'hide game info') {
            paraInfo.style.display = 'none';
            controlViewBtn.innerHTML = 'view game info';
        }
    })
    </script>

<a href="2-variables.html">Learn abour variables</a>
<a href="3-calculator.html">Use my online calculator</a>
<a href="4-booleans.html">Leran Booleans</a>
<a href="index.html">Go to homepage</a>
<a href="6-functions.html">Learning baout functions</a>
<a href="7-objects.html">Learning Js objects</a>
<a href="8-dom.html">Document Object Model</a>
<a href="9-loops.html">Learning baout loops</a>
<a href="10-settimeout.html">Learning the setTimeout async function</a>
<a href="11-setinterval.html">The setInterval Function</a>
<a href="12-typingeffect-example.html">Gpt typing effect example</a>
<a href="13-events.html">Learning events</a>
<a href="14-arrays.html">Learning arrays</a>
<a href="15-todoList.html">TodoList</a>
<a href="16-oop.html">OOP</a>
<a href="17-inheritance.html">17-inheritance</a>
</body>
</html>